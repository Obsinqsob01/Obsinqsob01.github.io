webpackJsonp([1],{"/Efb":function(e,t){},AJmw:function(e,t){},M5IB:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},s,!1,function(e){n("kQZl")},null,null).exports,r=n("/ocq"),i=n("Sazm"),u=n.n(i),c={name:"ButtonLogin",methods:{login:function(){var e=new u.a.auth.FacebookAuthProvider;u.a.auth().signInWithPopup(e).then(function(e){alert("Bienvenido")}).catch(function(e){alert("Ha ocurrido un error")})}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("button",{staticClass:"button is-link",on:{click:this.login}},[this._v("Iniciar Sesión con fb")])])},staticRenderFns:[]};var d=n("VU/8")(c,l,!1,function(e){n("/Efb")},"data-v-0a459d25",null).exports,m={name:"ButtonLogout",methods:{logout:function(){u.a.auth().signOut()}}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("button",{staticClass:"button is-link",on:{click:this.logout}},[this._v("Cerrar Sesión")])])},staticRenderFns:[]};var h=n("VU/8")(m,v,!1,function(e){n("RXqP")},"data-v-769a849e",null).exports,f={name:"Mensajes",data:function(){return{mensaje:{},mensajes:[]}},beforeMount:function(){var e=this;u.a.database().ref("messages").on("child_added",function(t){e.mensajes.push(t.val()),console.log(t.val())}),console.log("Mensajes: ",this.mensajes)}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"messages"}},e._l(e.mensajes,function(t){return n("div",{key:t.uid},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("img",{attrs:{src:t.userImage,width:"50",alt:"Imagen de usuario"}}),e._v(" "),n("p",[n("b",[e._v(e._s(t.username)+":")]),n("br"),e._v(e._s(t.mensaje))])])])])}))},staticRenderFns:[]};var _={name:"FormMensaje",data:function(){return{mensaje:"",user:u.a.auth().currentUser}},beforeMount:function(){this.user=u.a.auth().currentUser},methods:{enviar:function(){console.log(this.mensaje),u.a.database().ref("messages").push({userImage:this.user.photoURL,username:this.user.displayName,mensaje:this.mensaje}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),this.mensaje=""}}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("hr"),e._v(" "),n("label",{staticClass:"label",attrs:{for:"mensaje"}},[e._v("Mensaje")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mensaje,expression:"mensaje"}],staticClass:"textarea",attrs:{name:"mensaje",placeholder:"Ingresa tu mensaje",id:"mensaje",cols:"30",rows:"5"},domProps:{value:e.mensaje},on:{input:function(t){t.target.composing||(e.mensaje=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("button",{staticClass:"button is-link",on:{click:e.enviar}},[e._v("Enviar")])])},staticRenderFns:[]};var b={name:"Home",components:{ButtonLogin:d,Mensajes:n("VU/8")(f,p,!1,function(e){n("sHiB")},"data-v-39c01bf6",null).exports,FormMensaje:n("VU/8")(_,g,!1,function(e){n("M5IB")},"data-v-72a24e4c",null).exports,ButtonLogout:h},data:function(){return{user:u.a.auth().currentUser}},beforeMount:function(){var e=this;this.user=u.a.auth().currentUser,u.a.auth().onAuthStateChanged(function(t){e.user=t,console.log("Usuario",t)},function(e){console.log(e.message)})},created:function(){this.user=u.a.auth().currentUser}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"box"},[n("div",{staticClass:"columns"},[e.user?n("div",{staticClass:"column"},[n("img",{attrs:{src:e.user.photoURL,alt:"foto de usuario"}}),e._v(" "),n("h1",[e._v("Hola "+e._s(e.user.displayName))])]):e._e(),e._v(" "),e.user?e._e():n("div",{staticClass:"column end"},[n("ButtonLogin")],1),e._v(" "),e.user?n("div",{staticClass:"column end"},[n("ButtonLogout")],1):e._e()]),e._v(" "),e.user?n("div",[n("Mensajes"),e._v(" "),n("FormMensaje")],1):e._e()])])},staticRenderFns:[]};var U=n("VU/8")(b,j,!1,function(e){n("AJmw")},"data-v-6468ecbc",null).exports;a.a.use(r.a);var C=new r.a({routes:[{path:"/",name:"Home",component:U}]});a.a.config.productionTip=!1,u.a.initializeApp({apiKey:"AIzaSyASWDbWQtbYDBoND4bkY-Uu98bbJ_OotmE",authDomain:"chatapp-23d17.firebaseapp.com",databaseURL:"https://chatapp-23d17.firebaseio.com",projectId:"chatapp-23d17",storageBucket:"chatapp-23d17.appspot.com",messagingSenderId:"1036326077937"}),new a.a({el:"#app",router:C,components:{App:o},template:"<App/>"})},RXqP:function(e,t){},kQZl:function(e,t){},sHiB:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a55ef37c7de9c55fd4a7.js.map